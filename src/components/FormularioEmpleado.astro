---
// src/components/gestion-personal/FormularioEmpleado.astro
const departamentos = ['Secundaria', 'Primaria', 'Administración'];
import "../styles/global.css";
---

<div class="fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full" id="modal">
  <div class="relative top-20 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white">
    <div class="mt-3">
      <h3 class="text-lg leading-6 font-medium text-gray-900">Nuevo Empleado</h3>
      <form id="empleadoForm" class="mt-4">
        <div class="grid grid-cols-1 gap-6 mt-4">
          <div>
            <label class="text-sm font-medium text-gray-700">Nombre</label>
            <input type="text" name="nombre" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" />
          </div>
          <div>
            <label class="text-sm font-medium text-gray-700">Cargo</label>
            <input type="text" name="cargo" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" />
          </div>
          <div>
            <label class="text-sm font-medium text-gray-700">Departamento</label>
            <select name="departamento" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50">
              {departamentos.map(dep => (
                <option value={dep}>{dep}</option>
              ))}
            </select>
          </div>
          <div>
            <label class="text-sm font-medium text-gray-700">Fecha de Ingreso</label>
            <input type="date" name="fechaIngreso" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" />
          </div>
          <div>
            <label class="text-sm font-medium text-gray-700">Salario</label>
            <input type="number" name="salario" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-300 focus:ring focus:ring-indigo-200 focus:ring-opacity-50" />
          </div>
        </div>
        <div class="mt-6 flex items-center justify-end gap-x-6">
          <button type="button" id="btnCancelar" class="text-sm font-semibold leading-6 text-gray-900">Cancelar</button>
          <button type="submit" class="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
            Guardar
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('empleadoForm');
    const btnCancelar = document.getElementById('btnCancelar');
    const modal = document.getElementById('modal');

    form?.addEventListener('submit', (e) => {
      e.preventDefault();
      const formData = new FormData(e.target as HTMLFormElement);
      const datos = Object.fromEntries(formData);
      console.log('Datos del formulario:', datos);
      // Aquí puedes agregar la lógica para guardar los datos
      alert('Empleado guardado');
    });

    btnCancelar?.addEventListener('click', () => {
      modal?.classList.add('hidden');
      // O cualquier otra lógica para cerrar el modal
    });
  });
</script>